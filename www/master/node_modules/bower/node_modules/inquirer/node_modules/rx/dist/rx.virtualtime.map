{"version":3,"file":"rx.virtualtime.min.js","sources":["rx.virtualtime.js"],"names":["factory","objectTypes","boolean","function","object","number","string","undefined","root","window","this","freeExports","exports","nodeType","freeModule","module","freeGlobal","global","define","amd","Rx","require","call","exp","Scheduler","PriorityQueue","internals","ScheduledItem","SchedulePeriodicRecursive","disposableEmpty","Disposable","empty","inherits","defaultSubComparer","helpers","notImplemented","VirtualTimeScheduler","__super__","localNow","toDateTimeOffset","clock","scheduleNow","state","action","scheduleAbsoluteWithState","scheduleRelative","dueTime","scheduleRelativeWithState","toRelative","scheduleAbsolute","now","invokeAction","scheduler","initialClock","comparer","isEnabled","queue","VirtualTimeSchedulerPrototype","prototype","add","schedulePeriodicWithState","period","s","start","runAt","next","getNext","invoke","stop","advanceTo","time","dueToClock","ArgumentOutOfRangeError","advanceBy","dt","sleep","length","peek","isCancelled","dequeue","run","state1","self","remove","si","enqueue","disposable","HistoricalScheduler","cmp","HistoricalSchedulerProto","absolute","relative","Date","getTime","timeSpan"],"mappings":"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"}